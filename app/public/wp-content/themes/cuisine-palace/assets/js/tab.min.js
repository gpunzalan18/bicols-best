!function(){"use strict";function a(a,b){a&&(this.el=a,this.tabTriggers=this.el.getElementsByClassName("js-tabs-trigger"),this.tabPanels=this.el.getElementsByClassName("js-tabs-panel"),this.accordeonTriggers=this.el.getElementsByClassName("js-accordeon-trigger"),this.options=this._extend({breakpoint:992,tabsAllowed:!0,selectedTab:0,startCollapsed:!1},b),"true"==a.getAttribute("data-tabs-allowed")?this.options.tabsAllowed=!0:"false"==a.getAttribute("data-tabs-allowed")&&(this.options.tabsAllowed=!1),a.getAttribute("data-breakpoint")&&(this.options.breakpoint=parseInt(a.getAttribute("data-breakpoint"))),a.getAttribute("data-selected-tab")&&(this.options.selectedTab=parseInt(a.getAttribute("data-selected-tab"))),a.getAttribute("data-start-collapsed")&&(this.options.startCollapsed=a.getAttribute("data-start-collapsed")),0!==this.tabTriggers.length&&this.tabTriggers.length===this.tabPanels.length&&this._init())}function b(a,b){return d.call((b||document).querySelectorAll(a))}function c(){b(".js-tabs").forEach(function(b){new a(b)})}a.prototype._init=function(){var a=this;this.tabTriggersLength=this.tabTriggers.length,this.accordeonTriggersLength=this.accordeonTriggers.length,this.selectedTab=0,this.prevSelectedTab=null,this.clickListener=this._clickEvent.bind(this),this.keydownListener=this._keydownEvent.bind(this),this.keys={prev:37,next:39,space:32,enter:13},window.innerWidth>=this.options.breakpoint&&this.options.tabsAllowed?this.isAccordeon=!1:this.isAccordeon=!0;for(var b=0;b<this.tabTriggersLength;b++)this.tabTriggers[b].index=b,this.tabTriggers[b].addEventListener("click",this.clickListener,!1),this.tabTriggers[b].addEventListener("keydown",this.keydownListener,!1),this.tabTriggers[b].classList.contains("is-selected")&&(this.selectedTab=b),this._hide(b);for(var b=0;b<this.accordeonTriggersLength;b++)this.accordeonTriggers[b].index=b,this.accordeonTriggers[b].addEventListener("click",this.clickListener,!1),this.accordeonTriggers[b].addEventListener("keydown",this.keydownListener,!1),this.accordeonTriggers[b].classList.contains("is-selected")&&(this.selectedTab=b);isNaN(this.options.selectedTab)||(this.selectedTab=this.options.selectedTab<this.tabTriggersLength?this.options.selectedTab:this.tabTriggersLength-1),this.el.classList.add("is-initialized"),this.options.tabsAllowed&&this.el.classList.add("tabs-allowed"),"true"!=this.options.startCollapsed&&this.selectTab(this.selectedTab,!1);var c=this._debounce(function(){window.innerWidth>=a.options.breakpoint&&a.options.tabsAllowed?(a.isAccordeon=!1,a.options.tabsAllowed&&a.el.classList.add("tabs-allowed"),a.selectTab(a.selectedTab)):(a.isAccordeon=!0,a.el.classList.remove("tabs-allowed"),a.selectTab(a.selectedTab))},50);window.addEventListener("resize",c)},a.prototype._clickEvent=function(a){a.preventDefault();var b=this._getClosest(a.target,".js-tabs-trigger"),c=0;null==b?(b=this._getClosest(a.target,".js-accordeon-trigger"),c=this._getClosest(b,".js-tabs-panel"),this.isAccordeon=!0):this.isAccordeon=!1;var d=null!=a.target.index?a.target.index:c.index;(d!==this.selectedTab||this.isAccordeon)&&this.selectTab(d,!0)},a.prototype._keydownEvent=function(a){var b;if(a.keyCode===this.keys.prev||a.keyCode===this.keys.next||a.keyCode===this.keys.space||a.keyCode===this.keys.enter){if(a.preventDefault(),a.keyCode===this.keys.prev&&a.target.index>0&&!this.isAccordeon)b=a.target.index-1;else if(a.keyCode===this.keys.next&&a.target.index<this.tabTriggersLength-1&&!this.isAccordeon)b=a.target.index+1;else{if(a.keyCode!==this.keys.space&&a.keyCode!==this.keys.enter)return;b=a.target.index}this.selectTab(b,!0)}},a.prototype._show=function(a,b){this.tabPanels[a].removeAttribute("tabindex"),this.tabTriggers[a].removeAttribute("tabindex"),this.tabTriggers[a].classList.add("is-selected"),this.tabTriggers[a].setAttribute("aria-selected",!0),this.accordeonTriggers[a].setAttribute("aria-expanded",!0);var c=this.tabPanels[a].getElementsByClassName("content")[0];c.setAttribute("aria-hidden",!1),c.classList.remove("is-hidden"),c.classList.add("is-open"),this.tabPanels[a].classList.remove("is-hidden"),this.tabPanels[a].classList.add("is-open"),b&&this.tabTriggers[a].focus()},a.prototype._hide=function(a){this.tabTriggers[a].classList.remove("is-selected"),this.tabTriggers[a].setAttribute("aria-selected",!1),this.tabTriggers[a].setAttribute("tabindex",-1),this.accordeonTriggers[a].setAttribute("aria-expanded",!1);var b=this.tabPanels[a].getElementsByClassName("content")[0];b.setAttribute("aria-hidden",!0),b.classList.remove("is-open"),b.classList.add("is-hidden"),this.tabPanels[a].classList.remove("is-open"),this.tabPanels[a].classList.add("is-hidden"),this.tabPanels[a].setAttribute("tabindex",-1)},a.prototype.selectTab=function(a,b){if(null===a){if(this.isAccordeon)return;a=0}if(!this.tabPanels[a].classList.contains("is-hidden")&&b)return a===this.selectedTab?this.selectedTab=null:(this.selectedTab=null,this.prevSelectedTab=a),void this._hide(a);if(this.isAccordeon)this.prevSelectedTab=this.selectedTab,this.selectedTab=a;else{if(null!==this.prevSelectedTab&&this.isAccordeon)this._hide(this.selectedTab);else for(var c=0;c<this.tabTriggersLength;c++)c!==a&&this._hide(c);this.prevSelectedTab=this.selectedTab,this.selectedTab=a}this._show(this.selectedTab,b)},a.prototype.destroy=function(){for(var a=0;a<this.tabTriggersLength;a++)this.tabTriggers[a].classList.remove("is-selected"),this.tabTriggers[a].removeAttribute("aria-selected"),this.tabTriggers[a].removeAttribute("tabindex"),this.tabPanels[a].classList.remove("is-hidden"),this.tabPanels[a].removeAttribute("aria-hidden"),this.tabPanels[a].removeAttribute("tabindex"),this.tabTriggers[a].removeEventListener("click",this.clickListener,!1),this.tabTriggers[a].removeEventListener("keydown",this.keydownListener,!1),delete this.tabTriggers[a].index;this.el.classList.remove("is-initialized")},a.prototype._getClosest=function(a,b){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;--c>=0&&b.item(c)!==this;);return c>-1});a&&a!==document;a=a.parentNode)if(a.matches(b))return a;return null},a.prototype._extend=function(){var a={},b=!1,c=0,d=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(b=arguments[0],c++);for(;c<d;c++){var e=arguments[c];!function(c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b&&"[object Object]"===Object.prototype.toString.call(c[d])?a[d]=extend(!0,a[d],c[d]):a[d]=c[d])}(e)}return a},a.prototype._debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}};var d=Array.prototype.slice;"undefined"!=typeof Document&&("loading"!==document.readyState?c():document.addEventListener("DOMContentLoaded",c)),"undefined"!=typeof self&&(self.AccordionTabs=a),"object"==typeof module&&module.exports&&(module.exports=a)}();